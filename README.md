# Tree Menu Django App

Это приложение на Django реализует древовидное меню со следующими функциями:
1. Меню реализовано через template tag.
2. Все элементы выше выбранного пункта развернуты. Первый уровень вложенности под выбранным пунктом тоже развернут.
3. Структура меню хранится в базе данных.
4. Меню можно редактировать через стандартную админку Django.
5. Активный пункт меню определяется исходя из URL текущей страницы.
6. На одной странице может быть несколько меню. Они определяются по названию.
7. При клике на пункт меню происходит переход по заданному в нем URL. URL может быть задан явно или через именованные URL.
8. Для отрисовки каждого меню требуется ровно один запрос к базе данных.
9. При выполнении миграций автоматически создаются тестовые данные для быстрого тестирования.

## Установка без Docker

Клонировать репозиторий и перейти в него в командной строке:

```
git clone https://github.com/lolevan/tree-menu.git
```

```
cd tree-menu/project/
```

Cоздать и активировать виртуальное окружение:

```
python -m venv venv
```

```
source venv/Scripts/activate
```

или

```
source venv/bin/activate
```

Установить зависимости из файла requirements.txt:

```
pip install -r requirements.txt
```

Выполнить миграции:

```
python manage.py migrate
```

Создайте суперпользователя для доступа к админке

```
python manage.py createsuperuser
```

Запустить проект:

```
python manage.py runserver
```

Перейти по ссылке:

```
http://127.0.0.1:8000/
```

Доступ к админке:

Откройте браузер и перейдите по адресу http://127.0.0.1:8000/admin/ и войдите под учетными данными суперпользователя.

## Установка c Docker

1. Клонируйте репозиторий:

    ```bash
    git clone https://github.com/lolevan/tree_menu.git
    cd tree_menu/project
    ```

2. Запустите контейнеры:

    ```bash
    docker-compose up --build
    ```

3. Cоздайте суперпользователя:

    ```bash
    docker-compose exec web python manage.py createsuperuser
    ```

## Использование

### Админка
1. Создание нового меню:
  - В админке перейдите в раздел Menus и создайте новое меню с уникальным названием, например, main_menu.

2. Добавление пунктов меню:
  - Добавьте пункты в созданное меню. Каждый пункт может иметь имя, URL, именованный URL, родительский пункт и порядок. Используйте поле родителя для создания вложенных пунктов.

### Отображение меню
1. Загрузка template tag меню:
  - В вашем шаблоне загрузите template tag меню: ``` {% load menu_tags %} ```
    

2. Отрисовка меню:
  - Используйте тег draw_menu, чтобы отобразить меню по его названию: ``` {% draw_menu 'main_menu' %} ```

### Пример страниц
Приложение включает простые примерные страницы для каждого пункта меню. Эти страницы используют Bootstrap для оформления. При применении миграций автоматически создаются тестовые данные, и для них уже созданы HTML-шаблоны.

- Логин и пароль от админки при запуске через docker:
  - Логин: admin
  - Пароль: admin






























